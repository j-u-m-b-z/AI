{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = [\"videoElement\"];\nfunction AppComponent_video_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 20, 21);\n  }\n}\nfunction AppComponent_img_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 22);\n  }\n}\nfunction AppComponent_section_25_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 28);\n  }\n  if (rf & 2) {\n    const box_r7 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"left\", box_r7.left, \"%\")(\"top\", box_r7.top, \"%\")(\"width\", box_r7.size, \"px\")(\"height\", box_r7.size, \"px\");\n  }\n}\nfunction AppComponent_section_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 23)(1, \"div\", 24);\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementStart(3, \"div\", 26);\n    i0.ɵɵtemplate(4, AppComponent_section_25_div_4_Template, 1, 8, \"div\", 27);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r2.capturedImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.aiBoxes);\n  }\n}\nfunction AppComponent_section_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 29)(1, \"h2\");\n    i0.ɵɵtext(2, \"Processing...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵelement(4, \"div\", 31);\n    i0.ɵɵelementStart(5, \"span\", 32);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"width\", ctx_r3.progressPercentage, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.countdown, \"s\");\n  }\n}\nfunction AppComponent_section_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 33)(1, \"h2\");\n    i0.ɵɵtext(2, \"Analysis Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"span\");\n    i0.ɵɵtext(6, \"Liveness Score:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\")(11, \"span\");\n    i0.ɵɵtext(12, \"Face Detection:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"strong\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"li\")(16, \"span\");\n    i0.ɵɵtext(17, \"AI Visual Check:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 34);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(9, 14, ctx_r4.confidence * 100, \"1.0-2\"), \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"passed\", ctx_r4.isHuman)(\"failed\", !ctx_r4.isHuman);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.isHuman ? \"Passed\" : \"Failed\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"verified\", ctx_r4.agreement);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.agreement ? \"Verified\" : \"Review Required\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"success\", ctx_r4.isHuman)(\"error\", !ctx_r4.isHuman);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.isHuman ? \"\\u2705 This appears to be a live person\" : \"\\u274C Not a human, please retake the photo\", \" \");\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(http) {\n      this.http = http;\n      this.apiUrl = 'https://pg2i4ekj00.execute-api.us-east-1.amazonaws.com/dev/classify';\n      this.isProcessing = false;\n      this.countdown = 15;\n      this.progressPercentage = 0;\n      this.isHuman = null;\n      this.confidence = 0;\n      this.sagemakerResult = '';\n      this.rekognitionResult = '';\n      this.agreement = false;\n      this.captured = false;\n      this.capturedImage = null;\n      this.aiBoxes = [];\n      this.isCameraActive = false;\n      this.videoStream = null;\n    }\n    triggerFileUpload() {\n      const fileInput = document.getElementById('uploadInput');\n      fileInput?.click();\n    }\n    onFileSelected(event) {\n      const input = event.target;\n      if (input.files && input.files.length > 0) {\n        const file = input.files[0];\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.capturedImage = e.target?.result;\n          this.captured = true;\n          this.generateAiBoxes();\n          this.startProcessing();\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n    captureImage() {\n      if (!this.isCameraActive) {\n        this.openCamera();\n      } else {\n        this.takePhoto();\n        this.startProcessing();\n      }\n    }\n    openCamera() {\n      navigator.mediaDevices.getUserMedia({\n        video: true\n      }).then(stream => {\n        this.videoStream = stream;\n        this.isCameraActive = true;\n        setTimeout(() => {\n          const videoEl = this.videoElement.nativeElement;\n          videoEl.srcObject = stream;\n        }, 100);\n      }).catch(error => console.error(\"Camera access denied:\", error));\n    }\n    takePhoto() {\n      if (this.videoElement && this.videoElement.nativeElement) {\n        const video = this.videoElement.nativeElement;\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        if (context) {\n          context.drawImage(video, 0, 0, canvas.width, canvas.height);\n          this.capturedImage = canvas.toDataURL('image/png');\n          this.captured = true;\n          // Stop the camera\n          this.stopCamera();\n          // Generate AI boxes\n          this.generateAiBoxes();\n        }\n      }\n    }\n    stopCamera() {\n      this.isCameraActive = false;\n      if (this.videoStream) {\n        this.videoStream.getTracks().forEach(track => track.stop());\n        this.videoStream = null;\n      }\n    }\n    generateAiBoxes() {\n      if (!this.captured || !this.capturedImage) {\n        this.aiBoxes = [];\n        return;\n      }\n      this.aiBoxes = [];\n      for (let i = 0; i < 3; i++) {\n        this.aiBoxes.push({\n          left: Math.random() * 70 + 15,\n          top: Math.random() * 70 + 15,\n          size: Math.random() * 30 + 20\n        });\n      }\n    }\n    startProcessing() {\n      this.isProcessing = true;\n      this.countdown = 15;\n      this.progressPercentage = 0;\n      // Generate initial AI boxes\n      this.generateAiBoxes();\n      // Simulate API call with progress and moving AI boxes\n      this.interval = setInterval(() => {\n        this.countdown--;\n        this.progressPercentage = (15 - this.countdown) / 15 * 100;\n        // Update AI box positions every second to simulate movement\n        this.updateAiBoxPositions();\n        if (this.countdown <= 0) {\n          clearInterval(this.interval);\n          this.simulateResults();\n        }\n      }, 1000);\n      // Actual API call would be here\n      // this.http.post(this.apiUrl, { image: this.capturedImage }).subscribe(...)\n    }\n\n    updateAiBoxPositions() {\n      // Update existing AI boxes with new random positions\n      this.aiBoxes = this.aiBoxes.map(box => {\n        return {\n          left: Math.random() * 70 + 15,\n          top: Math.random() * 70 + 15,\n          size: Math.random() * 20 + 25 // Random size between 25px and 45px\n        };\n      });\n      // Occasionally add or remove a box to make it more dynamic\n      if (Math.random() > 0.7) {\n        if (this.aiBoxes.length < 5 && Math.random() > 0.5) {\n          // Add a new box\n          this.aiBoxes.push({\n            left: Math.random() * 70 + 15,\n            top: Math.random() * 70 + 15,\n            size: Math.random() * 20 + 25\n          });\n        } else if (this.aiBoxes.length > 1) {\n          // Remove a random box\n          const indexToRemove = Math.floor(Math.random() * this.aiBoxes.length);\n          this.aiBoxes.splice(indexToRemove, 1);\n        }\n      }\n    }\n    simulateResults() {\n      this.isProcessing = false;\n      // For demo purposes, generate random results\n      this.isHuman = Math.random() > 0.3; // 70% chance of being human\n      this.confidence = this.isHuman ? 0.7 + Math.random() * 0.3 : Math.random() * 0.7;\n      this.agreement = Math.random() > 0.2; // 80% chance of agreement\n    }\n\n    resetCapture() {\n      this.captured = false;\n      this.capturedImage = null;\n      this.aiBoxes = [];\n      this.isHuman = null;\n      this.confidence = 0;\n      this.agreement = false;\n      this.isProcessing = false;\n      if (this.interval) {\n        clearInterval(this.interval);\n      }\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        viewQuery: function AppComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.videoElement = _t.first);\n          }\n        },\n        decls: 34,\n        vars: 5,\n        consts: [[1, \"container\"], [1, \"header\"], [1, \"title\"], [\"href\", \"#\", 1, \"active\"], [\"href\", \"#\", 3, \"click\"], [\"href\", \"#\"], [\"type\", \"file\", \"id\", \"uploadInput\", \"accept\", \"image/*\", \"hidden\", \"\", 3, \"change\"], [1, \"upload-btn\", 3, \"click\"], [1, \"capture-box\"], [1, \"camera-area\"], [1, \"face-guide\"], [\"autoplay\", \"\", \"class\", \"camera-preview\", 4, \"ngIf\"], [\"src\", \"assets/camera-icon.png\", \"alt\", \"Camera Icon\", \"class\", \"camera-icon\", 4, \"ngIf\"], [1, \"capture-btn\", 3, \"click\"], [\"class\", \"ai-analysis-box\", 4, \"ngIf\"], [\"class\", \"processing-section\", 4, \"ngIf\"], [\"class\", \"results-section\", 4, \"ngIf\"], [1, \"footer\"], [1, \"footer-content\"], [1, \"copyright\"], [\"autoplay\", \"\", 1, \"camera-preview\"], [\"videoElement\", \"\"], [\"src\", \"assets/camera-icon.png\", \"alt\", \"Camera Icon\", 1, \"camera-icon\"], [1, \"ai-analysis-box\"], [1, \"captured-image\"], [\"alt\", \"Captured Image\", 3, \"src\"], [1, \"ai-visual-overlay\"], [\"class\", \"ai-box\", 3, \"left\", \"top\", \"width\", \"height\", 4, \"ngFor\", \"ngForOf\"], [1, \"ai-box\"], [1, \"processing-section\"], [1, \"progress-bar\"], [1, \"progress\"], [1, \"progress-time\"], [1, \"results-section\"], [1, \"result-message\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"h1\", 2);\n            i0.ɵɵtext(3, \"Are You Human?\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"nav\")(5, \"ul\")(6, \"li\")(7, \"a\", 3);\n            i0.ɵɵtext(8, \"\\uD83C\\uDFE0 Home\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"li\")(10, \"a\", 4);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_a_click_10_listener() {\n              return ctx.triggerFileUpload();\n            });\n            i0.ɵɵtext(11, \"\\uD83D\\uDCE4 Upload\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"li\")(13, \"a\", 5);\n            i0.ɵɵtext(14, \"\\uD83D\\uDCCA Results\");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(15, \"input\", 6);\n            i0.ɵɵlistener(\"change\", function AppComponent_Template_input_change_15_listener($event) {\n              return ctx.onFileSelected($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_16_listener() {\n              return ctx.triggerFileUpload();\n            });\n            i0.ɵɵtext(17, \"\\uD83D\\uDCE4 Upload Image\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"section\", 8)(19, \"div\", 9);\n            i0.ɵɵelement(20, \"div\", 10);\n            i0.ɵɵtemplate(21, AppComponent_video_21_Template, 2, 0, \"video\", 11);\n            i0.ɵɵtemplate(22, AppComponent_img_22_Template, 1, 0, \"img\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_23_listener() {\n              return ctx.captureImage();\n            });\n            i0.ɵɵtext(24, \"\\uD83D\\uDCF7 Capture & Process\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(25, AppComponent_section_25_Template, 5, 2, \"section\", 14);\n            i0.ɵɵtemplate(26, AppComponent_section_26_Template, 7, 3, \"section\", 15);\n            i0.ɵɵtemplate(27, AppComponent_section_27_Template, 22, 17, \"section\", 16);\n            i0.ɵɵelementStart(28, \"footer\", 17)(29, \"div\", 18)(30, \"p\");\n            i0.ɵɵtext(31, \"Powered by AI\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"p\", 19);\n            i0.ɵɵtext(33, \"\\u00A9 Jumbz Tayamen 2025\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(21);\n            i0.ɵɵproperty(\"ngIf\", ctx.isCameraActive);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isCameraActive);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.captured && ctx.capturedImage);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isProcessing);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isHuman !== null && !ctx.isProcessing);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i2.DecimalPipe],\n        styles: [\"*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.footer[_ngcontent-%COMP%]{margin-top:40px;padding-top:20px;border-top:1px solid #ecf0f1;text-align:center}.footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:14px;margin:0}.copyright[_ngcontent-%COMP%]{font-weight:500}body[_ngcontent-%COMP%]{background-color:#f5f7fa;color:#333}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:15px;border-bottom:1px solid #e0e6ed}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c3e50}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#7f8c8d;font-weight:500;padding:8px 12px;border-radius:6px;transition:all .2s ease}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f2f5}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#3498db;background-color:#3498db1a}.upload-btn[_ngcontent-%COMP%]{display:block;width:100%;padding:15px;margin-bottom:20px;background-color:#fff;color:#3498db;border:2px dashed #3498db;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;text-align:center}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#3498db0d}.capture-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 4px 12px #0000000d}.camera-area[_ngcontent-%COMP%]{position:relative;height:300px;background-color:#f0f2f5;border-radius:8px;overflow:hidden;margin-bottom:15px;display:flex;justify-content:center;align-items:center}.camera-preview[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.camera-icon[_ngcontent-%COMP%]{width:80px;height:80px;opacity:.5}.face-guide[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:220px;height:260px;border:3px dashed rgba(52,152,219,.6);border-radius:50%/60%;z-index:10;pointer-events:none}.capture-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#3498db;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.capture-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}.ai-analysis-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 4px 12px #0000000d}.captured-image[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden;max-height:400px}.captured-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.ai-visual-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.ai-box[_ngcontent-%COMP%]{position:absolute;border:2px solid #3498db;border-radius:4px;box-shadow:0 0 0 1px #3498db4d;transition:all .9s ease-in-out}.processing-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 4px 12px #0000000d;text-align:center}.processing-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px;color:#2c3e50}.progress-bar[_ngcontent-%COMP%]{height:12px;background-color:#ecf0f1;border-radius:6px;overflow:hidden;position:relative;margin-bottom:10px}.progress[_ngcontent-%COMP%]{height:100%;background-color:#3498db;background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:20px 20px;animation:_ngcontent-%COMP%_progress-bar-stripes 1s linear infinite}@keyframes _ngcontent-%COMP%_progress-bar-stripes{0%{background-position:0 0}to{background-position:20px 0}}.progress-time[_ngcontent-%COMP%]{font-size:14px;color:#7f8c8d;font-weight:500}.results-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 12px #0000000d}.results-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:#2c3e50}.results-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-bottom:20px}.results-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid #ecf0f1}.results-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#7f8c8d}.passed[_ngcontent-%COMP%]{color:#2ecc71}.failed[_ngcontent-%COMP%]{color:#e74c3c}.verified[_ngcontent-%COMP%]{color:#3498db}.result-message[_ngcontent-%COMP%]{padding:15px;border-radius:8px;font-weight:500;text-align:center;margin-top:15px}.success[_ngcontent-%COMP%]{background-color:#2ecc711a;color:#2ecc71}.error[_ngcontent-%COMP%]{background-color:#e74c3c1a;color:#e74c3c}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}